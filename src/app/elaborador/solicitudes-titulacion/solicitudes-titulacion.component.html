<div class="container-fluid">
  <nav class="navbar navbar-expand navbar-light bg-primary d-flex justify-content-between">
    <div class="navbar-brand mb-0 h1 text-white">Elaborando Documento Institucional <u>Solicitud</u> en GEDI - YAVIRAC</div>
  </nav>
<div class="progress-loader" [hidden]="!loading">
 
    <mat-progress-bar [mode]="'indeterminate'">
    </mat-progress-bar>
 
</div>
  <form #solicitudForm="ngForm">
    <div class="row">
      <div class="col-md-8">
        <div class="shadow-sm card">
          <p *ngIf="!editable">Nuevo Documento: {{solicitudCodigoDocumento}}</p>
          <p *ngIf="editable">Editando Documento: {{solicitudCodigoDocumento}}</p>
          <div class="card-body">
            <h4 class="card-title d-flex align-items-center">
              <i class="material-icons">
                today
              </i>
              Fecha:
            </h4>
            <label id="fecha" for="fecha">{{date}}</label>
          </div>
        </div>
        <!--Lugar-->
        <div class="shadow-sm card">
          <div class="card-body">
            <h4 class="card-title d-flex align-items-center">
              <i class="material-icons">
                person_pin_circle
              </i>
              Lugar Solicitud:</h4>

            <div class="col-md-6">
              <div class="row">
                <div class="form-group">
                  <input type="text" class="form-control" [(ngModel)]="solicitud.sumillas" name="sumillas"
                    placeholder="lugar" #sumillas="ngModel" required
                    [ngClass]="{'is-invalid': sumillas.invalid && (sumillas.touched || solicitudForm.submitted) }">
                </div>
              </div>
            </div>
          </div>
        </div>


        <!--Destinatario-->
        <div class="shadow-sm card">
          <div class="card-body">
            <div class="d-flex justify-content-between card-title">
              <h4 class="card-title d-flex align-items-center">
                <i class="material-icons">
                  person
                </i>
                Destinatario:
              </h4>
            </div>
            <ng-autocomplete
            [data]="listaProf"
            [searchKeyword]="keyword"
            (selected)='selectDestinatario($event)'
            
            [itemTemplate]="itemTemplate"                                 
                      ></ng-autocomplete>
           
          <ng-template #itemTemplate let-item>
          <a [innerHTML]="item.name"></a>
          </ng-template>
           <!--  <div class="row" *ngFor="let ed of solicitud.listaIng; let i=index">
              <div class="col-md-6">
                <div class="form-group">
                  <select class="form-control" (change)="evento($event)" placeholder="Destinatario" name="catalogo{{i}}"
                    [(ngModel)]="ed.catalogo" #prof="ngModel" required
                    [ngClass]="{'is-invalid': prof.invalid && (prof.touched || solicitudForm.submitted) }">
                    <option [value]="d.name" *ngFor="let d of listaProf">{{d.name}}</option>
                  </select>
                </div>
              </div>
            </div> -->
          </div>
        </div>

        <!--PresentacionSolicitante-->
        <div class="row">
          <div class="col-md-8">
            <div class="shadow-sm card">
              <div class="card-body">
                <h4 class="card-title d-flex align-items-center">
                  <i class="material-icons">
                    person
                  </i>
                  Solicitante :</h4>
                
                <div class="col-md-6">
                  <div class="row">
                    <div class="form-group">
                      <p>{{this.usuario.name}}</p>
                      <!-- <input type="text" placeholder="{{this.usuario.name}}" class="form-control" [(ngModel)]="solicitud.presentacionSolicitante"
                        name="presentacionSolicitante"  #presentacionSolicitante="ngModel"
                        required
                        [ngClass]="{'is-invalid': presentacionSolicitante.invalid && (presentacionSolicitante.touched || solicitudForm.submitted) }">
                     --></div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!--Cedula-->
        <div class="row">
          <div class="col-md-8">
            <div class="shadow-sm card">
              <div class="card-body">
                <h4 class="card-title d-flex align-items-center">
                  <i class="material-icons">
                    person
                  </i>
                  Cedula:</h4>

                <div class="col-md-6">
                  <div class="row">
                    <div class="form-group">
                           <p>{{this.usuario.user_name}}</p>                   
                      <!--    <input type="text" class="form-control" [(ngModel)]="solicitud.cedula" name="cedula"
                        placeholder="Cedula:" #cedula="ngModel" required
                        [ngClass]="{'is-invalid': cedula.invalid && (cedula.touched || solicitudForm.submitted) }">
                    --> </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!--Cuerpo-->
        <div class="shadow-sm card">
          <div class="card-body">
            <h4 class="card-title d-flex align-items-center">
              <i class="material-icons"> description</i>Cuerpo</h4>
            <div class="row">
              <div class="col-md-12">
                <div class="form-group">
                  <textarea class="form-control" [(ngModel)]='solicitud.cuerpo' name="cuerpo" rows="4"
                    placeholder="cuerpo" #cuerpo="ngModel" required
                    [ngClass]="{'is-invalid':cuerpo.invalid && (cuerpo.touched|| solicitudForm.submitted)}"></textarea>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!--Titulacion-->
        <div class="shadow-sm card">
          <div class="card-body">
            <h4 class="card-title d-flex align-items-center">
              <i class="material-icons">
                library_books
              </i>
              Proyecto de Titulacion:
            </h4>

            <div class="col-md-8">
              <div class="row">
                <div class="form-group">
                  <label>Titulo del Poyecto:</label>
                  <input type="text" class="form-control" [(ngModel)]="solicitud.titulacion" name="titulacion"
                    placeholder="Titulacion" #titulacion="ngModel" required
                    [ngClass]="{'is-invalid': titulacion.invalid && (titulacion.touched || solicitudForm.submitted) }">

                </div>
              </div>
            </div>
          </div>
        </div>
        <!--despedida-->
        <div class="shadow-sm card">
          <div class="card-body">
            <h4 class="card-title d-flex align-items-center">
              <i class="material-icons"> description</i>Despedida</h4>
            <div class="row">
              <div class="col-md-12">
                <div class="form-group">
                  <Label>Atentamente</Label>
                </div>
              </div>
            </div>
          </div>
        </div>

      </div>
      <div class="col-md-4">
        <div class="shadow-sm card action-buttons">
            <button *ngIf="!editable" (click)="solicitudForm.valid ? publicarEnGedi() : ''"
            class="btn btn-primary d-flex align-items-center justify-content-center">
            <i class="material-icons">
              publish
            </i><span>Publicar en GEDI</span></button>
            <button *ngIf="editable" (click)="solicitudForm.valid ? publicarEditado() : ''"
            class="btn btn-primary d-flex align-items-center justify-content-center">
            <i class="material-icons">
              create
            </i><span>Terminar edición</span></button>
            <button *ngIf="editable" type='reset' (click)="cancelarEdicion()"
            class="btn btn-primary d-flex align-items-center justify-content-center">
            <i class="material-icons">
              cancel
            </i><span>Cancelar edición</span></button>
          <button type='reset' (click)="resetearForm()"
            class="btn btn-primary d-flex align-items-center justify-content-center">
            <i class="material-icons">
              cancel
            </i><span>Limpiar borrador</span></button>
            <button type='reset' (click)="backToHome()"
            class="btn btn-primary d-flex align-items-center justify-content-center">
            <i class="material-icons">
              meeting_room
            </i><span>Regresar a GEDI</span></button>
        </div>
      </div>
   
    </div>
  </form>
</div>